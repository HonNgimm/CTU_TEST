<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>H·ªá th·ªëng T√≠nh ƒëi·ªÉm T·ªï H·ª£p CTU</title>
  <link rel="shortcut icon" href="./icon.png" type="image/x-icon">
  <style>
    body {
      font-family: 'Times New Roman', Times, serif;
      padding: 30px;
      margin: 0;
      background: url("nen-ctu.jpg") no-repeat center center fixed;
      background-size: cover;
    }

    .box {
      position: relative;
      background: rgba(255, 255, 255, 0.9);
      padding: 25px;
      max-width: 520px;
      margin: auto;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
    }

    h2 {
      color: #0066cc;
      text-align: center;
    }

    label, input, select, button {
      display: block;
      margin-top: 12px;
      width: 100%;
      font-size: 16px;
    }

    input, select {
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    button {
      padding: 10px;
      margin-top: 20px;
      background: #0066cc;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
    }

    button:hover {
      background: #004e99;
    }

    .result {
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
    }

    ul {
      padding-left: 20px;
    }
  </style>
</head>
<body>
<div class="box">
  <h2>H·ªÜ TH·ªêNG T√çNH ƒêI·ªÇM T·ªî H·ª¢P V-SAT</h2>
  <label>Ch·ªçn m√¥n V-SAT 1:</label>
  <select>
    <option>To√°n</option><option>Ng·ªØ VƒÉn</option><option>Ti·∫øng Anh</option>
    <option>V·∫≠t l√≠</option><option>H√≥a h·ªçc</option><option>Sinh h·ªçc</option>
    <option>L·ªãch s·ª≠</option><option>ƒê·ªãa l√≠</option>
  </select>
  <input type="number" id="mon1" placeholder="ƒêi·ªÉm m√¥n 1 (thang 150)" min="0" max="150" step="0.1">

  <label>Ch·ªçn m√¥n V-SAT 2:</label>
  <select>
    <option>To√°n</option><option>Ng·ªØ VƒÉn</option><option>Ti·∫øng Anh</option>
    <option>V·∫≠t l√≠</option><option>H√≥a h·ªçc</option><option>Sinh h·ªçc</option>
    <option>L·ªãch s·ª≠</option><option>ƒê·ªãa l√≠</option>
  </select>
  <input type="number" id="mon2" placeholder="ƒêi·ªÉm m√¥n 2 (thang 150)" min="0" max="150" step="0.1">

  <label>Ch·ªçn m√¥n V-SAT 3:</label>
  <select>
    <option>To√°n</option><option>Ng·ªØ VƒÉn</option><option>Ti·∫øng Anh</option>
    <option>V·∫≠t l√≠</option><option>H√≥a h·ªçc</option><option>Sinh h·ªçc</option>
    <option>L·ªãch s·ª≠</option><option>ƒê·ªãa l√≠</option>
  </select>
  <input type="number" id="mon3" placeholder="ƒêi·ªÉm m√¥n 3 (thang 150)" min="0" max="150" step="0.1">

  <button onclick="tinhDiem()">T√≠nh t·ªïng ƒëi·ªÉm</button>
  <div class="result" id="output"></div>

  <h2>H·ªÜ TH·ªêNG T√çNH ƒêI·ªÇM T·ªî H·ª¢P H·ªåC B·∫†</h2>
  <label>Ch·ªçn m√¥n H·ªçc B·∫° 1:</label>
  <select>
    <option>To√°n</option><option>VƒÉn</option><option>S·ª≠</option><option>ƒê·ªãa</option>
    <option>GDKTPL</option><option>L√≠</option><option>H√≥a</option><option>Sinh</option>
    <option>Tin h·ªçc</option><option>C√¥ng ngh·ªá</option>
  </select>
  <input type="number" id="hb1" placeholder="ƒêi·ªÉm m√¥n 1 (thang 10)" min="0" max="10" step="0.01">

  <label>Ch·ªçn m√¥n H·ªçc B·∫° 2:</label>
  <select>
    <option>To√°n</option><option>VƒÉn</option><option>S·ª≠</option><option>ƒê·ªãa</option>
    <option>GDKTPL</option><option>L√≠</option><option>H√≥a</option><option>Sinh</option>
    <option>Tin h·ªçc</option><option>C√¥ng ngh·ªá</option>
  </select>
  <input type="number" id="hb2" placeholder="ƒêi·ªÉm m√¥n 2 (thang 10)" min="0" max="10" step="0.01">

  <label>Ch·ªçn m√¥n H·ªçc B·∫° 3:</label>
  <select>
    <option>To√°n</option><option>VƒÉn</option><option>S·ª≠</option><option>ƒê·ªãa</option>
    <option>GDKTPL</option><option>L√≠</option><option>H√≥a</option><option>Sinh</option>
    <option>Tin h·ªçc</option><option>C√¥ng ngh·ªá</option>
  </select>
  <input type="number" id="hb3" placeholder="ƒêi·ªÉm m√¥n 3 (thang 10)" min="0" max="10" step="0.01">

  <button onclick="tinhDiemHB()">T√≠nh ƒëi·ªÉm h·ªçc b·∫°</button>
  <div class="result" id="outputHB"></div>
</div>

<script>
const quyTacVsat = [
  { a: 137.0, b: 150.0, c: 9.0, d: 10.0 },
  { a: 127.5, b: 137.0, c: 8.8, d: 9.0 },
  { a: 121.0, b: 127.5, c: 8.6, d: 8.8 },
  { a: 112.5, b: 121.0, c: 8.4, d: 8.6 },
  { a: 106.0, b: 112.5, c: 8.2, d: 8.4 },
  { a: 99.5,  b: 106.0, c: 8.0, d: 8.2 },
  { a: 94.0,  b: 99.5,  c: 7.8, d: 8.0 },
  { a: 88.0,  b: 94.0,  c: 7.6, d: 7.8 },
  { a: 81.5,  b: 88.0,  c: 7.4, d: 7.6 },
  { a: 74.0,  b: 81.5,  c: 7.0, d: 7.4 },
  { a: 64.0,  b: 74.0,  c: 6.4, d: 7.0 }
];

const quyTacHB = [
  { a: 9.37, b: 10.00, c: 8.60, d: 9.80 },
  { a: 9.10, b: 9.37, c: 8.40, d: 8.60 },
  { a: 8.73, b: 9.10, c: 8.00, d: 8.40 },
  { a: 8.40, b: 8.73, c: 7.80, d: 8.00 },
  { a: 8.10, b: 8.40, c: 7.60, d: 7.80 },
  { a: 7.77, b: 8.10, c: 7.20, d: 7.60 },
  { a: 7.43, b: 7.77, c: 7.00, d: 7.20 },
  { a: 7.07, b: 7.43, c: 6.60, d: 7.00 },
  { a: 6.63, b: 7.07, c: 6.20, d: 6.60 },
  { a: 6.07, b: 6.63, c: 5.40, d: 6.20 },
  { a: 1.99, b: 6.07, c: 1.00, d: 5.40 }
];

function noiSuy(x, bang) {
  for (let i = 0; i < bang.length; i++) {
    let { a, b, c, d } = bang[i];
    if (x >= a && x <= b) {
      return c + ((x - a) * (d - c)) / (b - a);
    }
  }
  return 0;
}

function tinhDiem() {
  const mon1 = parseFloat(document.getElementById("mon1").value);
  const mon2 = parseFloat(document.getElementById("mon2").value);
  const mon3 = parseFloat(document.getElementById("mon3").value);
  const output = document.getElementById("output");

  if ([mon1, mon2, mon3].some(d => isNaN(d) || d < 0 || d > 150)) {
    output.innerText = "‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë√∫ng 3 ƒëi·ªÉm V-SAT (0‚Äì150).";
    return;
  }

  const diemQD1 = noiSuy(mon1, quyTacVsat);
  const diemQD2 = noiSuy(mon2, quyTacVsat);
  const diemQD3 = noiSuy(mon3, quyTacVsat);
  const tong = diemQD1 + diemQD2 + diemQD3;

  output.innerHTML = `
    ‚úÖ <b>ƒêi·ªÉm quy ƒë·ªïi:</b>
    <ul>
      <li>V-SAT M√¥n 1: ${diemQD1.toFixed(2)}</li>
      <li>V-SAT M√¥n 2: ${diemQD2.toFixed(2)}</li>
      <li>V-SAT M√¥n 3: ${diemQD3.toFixed(2)}</li>
    </ul>
    üî¢ <strong>T·ªïng ƒëi·ªÉm x√©t tuy·ªÉn: ${tong.toFixed(2)}</strong><br><br>
    K·∫øt qu·∫£ ch·ªâ mang t√≠nh ch·∫•t Tham kh·∫£o!
  `;
}

function tinhDiemHB() {
  const hb1 = parseFloat(document.getElementById("hb1").value);
  const hb2 = parseFloat(document.getElementById("hb2").value);
  const hb3 = parseFloat(document.getElementById("hb3").value);
  const output = document.getElementById("outputHB");

  if ([hb1, hb2, hb3].some(d => isNaN(d) || d < 0 || d > 10)) {
    output.innerText = "‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë√∫ng 3 ƒëi·ªÉm h·ªçc b·∫° (0‚Äì10).";
    return;
  }

  const diemHB1 = noiSuy(hb1, quyTacHB);
  const diemHB2 = noiSuy(hb2, quyTacHB);
  const diemHB3 = noiSuy(hb3, quyTacHB);
  const tong = diemHB1 + diemHB2 + diemHB3;
  const diemTB = tong / 3;

  const muc = quyTacHB.find(rule => diemTB > rule.a && diemTB <= rule.b);
  const quyDoiText = muc 
    ? `üëâ T∆∞∆°ng ƒë∆∞∆°ng ƒëi·ªÉm TN THPT t·ª´ <b>${muc.c.toFixed(2)}</b> ƒë·∫øn <b>${muc.d.toFixed(2)}</b>` 
    : "‚ö†Ô∏è Kh√¥ng t√¨m th·∫•y m·ª©c quy ƒë·ªïi ph√π h·ª£p.";

  output.innerHTML = `
    ‚úÖ <b>ƒêi·ªÉm t·ª´ng m√¥n:</b>
    <ul>
      <li>M√¥n 1: ${diemHB1.toFixed(2)}</li>
      <li>M√¥n 2: ${diemHB2.toFixed(2)}</li>
      <li>M√¥n 3: ${diemHB3.toFixed(2)}</li>
    </ul>
    üî¢ <strong>T·ªïng ƒëi·ªÉm h·ªçc b·∫°: ${tong.toFixed(2)}</strong><br>
    üìå ${quyDoiText}<br><br>
    K·∫øt qu·∫£ ch·ªâ mang t√≠nh ch·∫•t Tham kh·∫£o!
  `;
}
</script>
</body>
</html>
